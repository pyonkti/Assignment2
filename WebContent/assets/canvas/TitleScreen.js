// -- user code here --

/* --- start generated code --- */

// Generated by  1.5.0 (Phaser v2.6.2)


/**
 * TitleScreen.
 */
function TitleScreen() {
	
	Phaser.State.call(this);
	
}

/** @type Phaser.State */
var TitleScreen_proto = Object.create(Phaser.State.prototype);
TitleScreen.prototype = TitleScreen_proto;
TitleScreen.prototype.constructor = TitleScreen;

TitleScreen.prototype.init = function () {
	
};

TitleScreen.prototype.preload = function () {
	
	this.load.pack('preloader', 'assets/pack.json');
	
};

TitleScreen.prototype.create = function () {
	this.world.position.set(1000,2000);
	var background = this.add.tileSprite(0, 0, 9640, 3600, 'sky');
	background.scale.set(10);
	background.autoScroll(10,0);
	
	var title = this.add.sprite(320.0, 87.5, 'title');
	title.scale.set(3);
	var pressEnter = this.add.sprite(500.0, 500.0, 'press-enter-text');
	pressEnter.scale.set(3);
	
	
	// public fields
	
	this.fBackground = background;
	this.fPressEnter = pressEnter;
	this.afterCreate();
	
};

/* --- end generated code --- */

TitleScreen.prototype.afterCreate = function() {
	var startKey = this.input.keyboard.addKey(Phaser.Keyboard.ENTER);
	startKey.onDown.add(this.startGame, this);
	//
	this.time.events.loop(700, this.blinkText, this);
};

TitleScreen.prototype.startGame = function() {
	this.state.start("Level");
};

TitleScreen.prototype.blinkText = function() {
	if (this.fPressEnter.alpha) {
		this.fPressEnter.alpha = 0;
	} else {
		this.fPressEnter.alpha = 1;
	}
};